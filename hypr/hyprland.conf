#  _   _                  _                 _ 
# | | | |_   _ _ __  _ __| | __ _ _ __   __| |
# | |_| | | | | '_ \| '__| |/ _` | '_ \ / _` |
# |  _  | |_| | |_) | |  | | (_| | | | | (_| |
# |_| |_|\__, | .__/|_|  |_|\__,_|_| |_|\__,_|
#        |___/|_|  
#
debug {
    disable_logs = false
    enable_stdout_logs = true
}

# --------------------
# Colorscheme
# --------------------
#source = ~/.cache/wal/colors-hyprland.conf

# --------------------
# DECORATION
# --------------------
decoration {
    rounding              = 5

    inactive_opacity      = 0.9
    active_opacity        = 1.0
    fullscreen_opacity    = 1.0

    dim_inactive          = false
    dim_strength          = 0.4
    dim_special           = 0.4
    dim_around            = 0.4

# --------------------
# BLUR
# --------------------
    blur {
        enabled=false
	size = 8
	passes = 1
	ignore_opacity = false
    }
}

# --------------------
# ANIMATIONS
# --------------------
animations {
    animation = specialWorkspace, 1, 5, default, slidevert
}

# --------------------
# INPUT
# --------------------
input {
    follow_mouse = 2
    touchpad {
        natural_scroll = true
	disable_while_typing = false
    }
}

# --------------------
# GESTURES
# --------------------
gestures {
    workspace_swipe = true
    workspace_swipe_fingers = 3
    workspace_swipe_invert = true
}

# --------------------
# GROUP
# --------------------
group {
    insert_after_current = true
    focus_removed_window = true
}

# --------------------
# Misc
# --------------------
misc {
    disable_hyprland_logo       = true
    disable_splash_rendering    = true
    focus_on_activate           = false
    mouse_move_focuses_monitor  = true
}

xwayland {
    enabled = true
}

dwindle {
    pseudotile  = true
    smart_split = true
}

master {
    mfact = 0.7
}

general {
    gaps_in               = 5
    gaps_out              = 15
    #gaps_workspaces       = 0

    layout                  = master
    no_focus_fallback       = true
    resize_on_border        = true
    extend_border_grab_area = 5
    hover_icon_on_border    = true
}

cursor {
    no_hardware_cursors = true
    hide_on_touch    = true
    no_warps         = true
    inactive_timeout = 0
}


# ------------------
# MONITORS
# ------------------
monitor = eDP-1,preferred,0x0,1
monitor = ,preferred,auto-up,1

# --------------------
# WORKSPACES
# --------------------
workspace = s[true],name:scratchpad,gapsout:300,persistent:true

# ------------------
# WINDOWRULES
# ------------------
windowrulev2 = workspace 2,class:(firefox-esr)
windowrulev2 = workspace 8,class:(discord)
windowrulev2 = workspace 8,class:(vesktop)
windowrulev2 = workspace 9,class:(Bitwarden)
windowrulev2 = float, class:(veracrypt)
windowrulev2 = float, class:(wlfreerdp)
windowrulev2 = opacity 1.0 1.0, class:(footclient)

# ------------------
# EXECS
# ------------------
# Processes
exec-once = [silent] gentoo-pipewire-launcher restart
exec-once = [silent] hypridle
#exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = [silent] swww-daemon --format xrgb
exec-once = [silent] $HOME/.config/hypr/scripts/wallpaper.sh init
#exec-once = waybar

# Startup apps
exec-once = [silent] /usr/bin/foot -s
exec-once = /usr/bin/discord
#exec-once = [silent] /usr/bin/vesktop-bin
exec-once = [silent] /usr/bin/firefox
exec-once = [silent] /usr/bin/bitwarden-desktop-bin
exec-once = [workspace special:scratchpad silent] /usr/bin/foot

# ------------------
# KEYBINDS
# ------------------
$mainMod = SUPER
# applications
bind = $mainMod,RETURN,exec,footclient
# actions
bind = $mainMod,SPACE,exec,/opt/hyprlauncher/target/release/hyprlauncher
bind = $mainMod CTRL,R,exec,hyprctl reload
bind = $mainMod SHIFT,Q,exec,wlogout -p layer-shell -b 5
bind = $mainMod,S,exec,hyprlock
bind = $mainMod SHIFT,S,exec,hyprshot -m region --clipboard-only
bind = $mainMod,W,exec,$HOME/.config/hypr/scripts/wallpaper.sh
# system
bind = , XF86MonBrightnessDown, exec, brightnessctl set 5%-
bind = , XF86MonBrightnessUp, exec, brightnessctl set 5%+
bind = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bind = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
# windows
bind = $mainMod,Q,killactive
bind = $mainMod,F,fullscreen,1
bind = $mainMod SHIFT,F,fullscreen,0
bind = $mainMod,T,togglefloating
bind = $mainMod,J,movefocus,d
bind = $mainMod,K,movefocus,u
bind = $mainMod,H,movefocus,l
bind = $mainMod,L,movefocus,r
bind = $mainMod SHIFT,J,movewindow,d
bind = $mainMod SHIFT,K,movewindow,u
bind = $mainMod SHIFT,H,movewindow,l
bind = $mainMod SHIFT,L,movewindow,r
bind = $mainMod CTRL,J,resizeactive,0 100
bind = $mainMod CTRL,K,resizeactive,0 -100
bind = $mainMod CTRL,H,resizeactive,-100 0
bind = $mainMod CTRL,L,resizeactive,100 0
bindm = $mainMod, mouse:272,movewindow
bindm = $mainMod, mouse:273,resizewindow
bind = $mainMod SHIFT,M,layoutmsg,swapwithmaster auto
bind = $mainMod,M,layoutmsg,focusmaster
bind = $mainMod CTRL,M,layoutmsg,addmaster
bind = $mainMod CTRL SHIFT,M,layoutmsg,removemaster
# groups
bind = $mainMod,1,workspace,1
bind = $mainMod,2,workspace,2
bind = $mainMod,3,workspace,3
bind = $mainMod,4,workspace,4
bind = $mainMod,5,workspace,5
bind = $mainMod,6,workspace,6
bind = $mainMod,7,workspace,7
bind = $mainMod,8,workspace,8
bind = $mainMod,9,workspace,9
bind = $mainMod SHIFT,SPACE,togglespecialworkspace,special:scratchpad
bind = $mainMod SHIFT,1,movetoworkspace,1
bind = $mainMod SHIFT,2,movetoworkspace,2
bind = $mainMod SHIFT,3,movetoworkspace,3
bind = $mainMod SHIFT,4,movetoworkspace,4
bind = $mainMod SHIFT,5,movetoworkspace,5
bind = $mainMod SHIFT,6,movetoworkspace,6
bind = $mainMod SHIFT,7,movetoworkspace,7
bind = $mainMod SHIFT,8,movetoworkspace,8
bind = $mainMod SHIFT,9,movetoworkspace,9
bind = $mainMod,mouse_up,workspace,e-1
bind = $mainMod,mouse_down,workspace,e+1

# ------------------
# GPU STUFF
# ------------------
env = WLR_DRM_DEVICES,/dev/dri/card0
# ------------------
# OTHER ENV STUFF
# ------------------
env = HYPRCURSOR_THEME,rose-pine-hyprcursor
env = HYPRCURSOR_SIZE,30
env = XCURSOR_THEME,rose-pine-hyprcursor
env = XCURSOR_SIZE,30
env = XDG_SESSION_TYPE,wayland
env = MOZ_ENABLE_WAYLAND,1
env = MOZ_DBUS_REMOTE=1
env = ELECTRON_OZONE_PLATFORM_HINT,wayland
#source = ~/.config/hypr/monitors.conf
source = ~/.config/hypr/src/hyprland-gentoo.conf
